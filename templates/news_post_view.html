{% extends 'admin_index.html' %}

{% block content %}
    <h1>News Posts</h1>
    
    <div class="news-posts">
        <ul>
        {% for post in posts %}
            <li>
                <h2><a href="{% url 'post_detail' post.slug %}">{{ post.title }}</a></h2>
                <p>{{ post.excerpt }}</p>
                <p><small>Published on: {{ post.published_at }}</small></p>
                <p>Category: {{ post.category_id.name }} | Subcategory: {{ post.subcategory_id.name }}</p>

                <!-- Delete Button -->
                <form method="POST" action="{% url 'delete_newspost' post.post_id %}" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this post?');">Delete</button>
                </form>
            </li>
        {% endfor %}
        </ul>
    </div>
{% endblock content %}
